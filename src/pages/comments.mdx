export const description =
  'On this page, we’ll dive into the different comment endpoints you can use to manage comments programmatically.'

# comments

comments are where communities live in Protocol — they are a collection of contacts you're talking to all at once. On this page, we'll dive into the different comment endpoints you can use to manage comments programmatically. We'll look at how to query, create, update, and delete comments. {{ className: 'lead' }}

## The comment model

The comment model contains all the information about your comments, including what contacts are in the comment and the comment's name, description, and avatar.

### Properties

<Properties>
  <Property name="id" type="string">
    Unique identifier for the comment.
  </Property>
  <Property name="user_id" type="string">
    Unique identifier of user commented first.
  </Property>
  <Property name="course_id" type="string">
    Unique identifier of the course this comment belongs to.
  </Property>
  <Property name="content" type="string">
    The content of the comment.
  </Property>
  <Property name="chapter" type="integer">
    The chapter of the course commented on.
  </Property>
  <Property name="created_at" type="timestamp">
    Timestamp of when the comment was created.
  </Property>
</Properties>

## The comment reply model

The comment model contains all the information about your comments, including what contacts are in the comment and the comment's name, description, and avatar.

### Properties

<Properties>
  <Property name="id" type="string">
    Unique identifier for the comment.
  </Property>
  <Property name="comment_id" type="string">
    The name for the comment replied.
  </Property>
  <Property name="user_id" type="string">
    The description for the comment.
  </Property>
  <Property name="content" type="string">
    The avatar image URL for the comment.
  </Property>
  <Property name="created_at" type="timestamp">
    Timestamp of when the comment reply was created.
  </Property>
</Properties>

---

## List all comments with reply {{ tag: 'GET', label: '/v1/comments' }}

<Row>
  <Col>

    This endpoint allows you to retrieve a paginated list of all your comments. By default, a maximum of ten comments are shown per page.

    ### Required attributes

    <Properties>
      <Property name="course_id" type="string">
        The course of comment referred.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/comments">

    ```bash {{ title: 'cURL' }}
    curl -G https://api.protocol.chat/v1/comments \
      -H "Authorization: Bearer {token}" \
      -d course_id="csDaSDF44aas"
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.comments.list({course_id:'csDaSDF44aas'})
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.comments.list(course_id="csDaSDF44aas")
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->comments->list(['course_id' => 'csDaSDF44aas']);
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "fadfGas45",
      "user": {
        "username": "FrankMcCallister",
        "photo": "cdn.photo_cloud_storage.com/xxxxxxx-xxxx",
      },
      "course": {
        "id": "xgQQXg3hrtjh7AvZ",
        "title": "Belajar Machine learning",
      },
      "course_content": {
        "id": "dfadT4asd"
        "chapter": 3,
        "title": "Machine Learning dan IOT update 2023",
      } 
      "content": "Izin bertanya, maksud dari soal ini bagaimana ya pak?",
      "created_at": 6589659,
      "reply": [
        {
          "comment_id": "fadfGas4",
          "user": {
            "username": "Imthe_Facilitator",
            "photo": "cdn.photo_cloud_storage.com/xxxxxxx-xxxx",
          },
          "content": "Ya ndak tau kok tanya saya",
        }
      ]
    }
    ```

  </Col>
</Row>

---

## Create a comment {{ tag: 'POST', label: '/v1/comments' }}

<Row>
  <Col>

    This endpoint allows you to create a new comment conversation between you and a comment of your Protocol contacts.

    ### Required attributes

<Properties>
  <Property name="user_id" type="string">
    Unique identifier of user that user was commented.
  </Property>
  <Property name="course_id" type="string">
    Unique identifier of the course that user was commented.
  </Property>
  <Property name="course_content_id" type="string">
    Unique identifier of the course content that user was commented.
  </Property>
  <Property name="content" type="string">
    The content for the comment.
  </Property>
</Properties>


  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/v1/comments">

    ```bash {{ title: 'cURL' }}
    curl https://api.protocol.chat/v1/comments \
      -H "Authorization: Bearer {token}" \
      -d user_id="sdfa4ad" \
      -d course_id="fadfGas4" \
      -d course_content_id="dfaad466" \
      -d content="Jadi gini..."
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.comments.create({
      user_id: 'sdfa4ad',
      course_id: 'fadfGas4',
      course_content_id: 'dfaad466',
      content: 'Jadi gini...'
    })
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.comments.create(      
      user_id= "sdfa4ad",
      course_id= "fadfGas4",
      course_content_id= "dfaad466",
      content= "Jadi gini..."
    )
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->comments->create([
      'user_id'=> 'sdfa4ad',
      'course_id'=> 'fadfGas4',
      'course_content_id'=> 'dfaad466',
      'content'=> 'Jadi gini...'
    ]);
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "fadfGas45",
      "user": {
        "username": "FrankMcCallister",
        "photo": "cdn.photo_cloud_storage.com/xxxxxxx-xxxx",
      },
      "course": {
        "id": "xgQQXg3hrtjh7AvZ",
        "title": "Belajar Machine learning",
      },
      "course_content": {
        "id": "dfadT4asd"
        "chapter": 3,
        "title": "Machine Learning dan IOT update 2023",
      } 
      "content": "Jadi gini...",
      "created_at": 6589659,
      "reply": []
    }
    ```

  </Col>
</Row>

---

## Create a reply {{ tag: 'POST', label: '/v1/comments' }}

<Row>
  <Col>

    This endpoint allows you to create a new comment conversation between you and a comment of your Protocol contacts.

    ### Required attributes

<Properties>
  <Property name="user_id" type="string">
    Unique identifier of user that user was commented.
  </Property>
  <Property name="reply_id" type="string">
    Unique identifier of the desired comment / reply that user was commented.
  </Property>
  <Property name="content" type="string">
    The content for the reply.
  </Property>
</Properties>

    ### Optional attributes

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/v1/replies">

    ```bash {{ title: 'cURL' }}
    curl https://api.protocol.chat/v1/replies \
      -H "Authorization: Bearer {token}" \
      -d user_id="sdfa9dua" \
      -d reply_id="dfarj9j" \
      -d content="Prittt..."
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.replies.create({
      user_id: 'sdfa9dua',
      reply_id: 'dfarj9j',
      content: 'Prittt...'
    })
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.replies.create(
      user_id="sdfa9dua",
      reply_id="dfarj9j",
      content="Prittt..."
    )
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->replies->create([
      'user_id' => 'sdfa9dua',
      'reply_id' => 'dfarj9j',
      'content' => 'Prittt...'
    ]);
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "fgavvds45",
      "user": {
        "username": "NoobMaster69",
        "photo": "cdn.photo_cloud_storage.com/xxxxxxx-xxxx",
      },
      "reply_to": { 
        "id": "fadfGas45"
        "user": {
          "username": "FrankMcCallister",
        }
      }
      "content": "Prit....",
      "created_at": 6589659,
    }
    ```

  </Col>
</Row>
